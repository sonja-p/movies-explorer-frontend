(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],Array(30).concat([function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),i=n(23),r=n.n(i),c=(n(30),n(3)),o=n(21),l=n(2),d=(n(31),n(4)),u=(n(32),n(33),n.p+"static/media/header-logo.3406903e.svg"),m=(n(34),n(0));var j=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1];return Object(m.jsxs)("nav",{className:"navigation",children:[Object(m.jsxs)("div",{className:"navigation__menu ".concat(n?"navigation_menu-open":""),children:[Object(m.jsxs)("div",{className:"navigation__container",children:[Object(m.jsx)(c.c,{exact:!0,to:".",className:"navigation__link navigation__link_hidden",activeClassName:"navigation__link_selected",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(m.jsx)(c.c,{to:"movies",className:"navigation__link",activeClassName:"navigation__link_selected",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(m.jsx)(c.c,{to:"saved-movies",className:"navigation__link",activeClassName:"navigation__link_selected",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})]}),Object(m.jsx)(c.b,{to:"profile",className:"navigation__account-link",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})]}),Object(m.jsx)("button",{type:"button",onClick:function(){s(!n)},"aria-label":"toggleMenu",className:"navigation__button ".concat(n?"navigation__button_type_close":"")}),Object(m.jsx)("div",{className:"navigation__fade ".concat(n?"navigation_menu-open":"")})]})};var h=function(e){var t=e.loggedIn,n=Object(d.i)({path:"/",exact:!0});return Object(m.jsx)(m.Fragment,{children:n&&!t?Object(m.jsx)("div",{className:"header__wrapper header__wrapper_page_landing",children:Object(m.jsxs)("header",{className:"header",children:[Object(m.jsx)(c.b,{to:".",className:"header__link",children:Object(m.jsx)("img",{src:u,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",className:"header__logo"})}),Object(m.jsxs)("nav",{className:"header__container",children:[Object(m.jsx)(c.b,{to:"signup",className:"header__link header__register-link",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(m.jsx)(c.b,{to:"signin",className:"header__login-link",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}):Object(m.jsx)("div",{className:"header__wrapper ".concat(n?"header__wrapper_page_landing":"header__wrapper_page_main"),children:Object(m.jsxs)("header",{className:"header",children:[Object(m.jsx)(c.b,{to:".",className:"header__link",children:Object(m.jsx)("img",{src:u,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",className:"header__logo"})}),Object(m.jsx)(j,{})]})})})};n(41);var b=function(){return Object(m.jsx)("div",{className:"promo__wrapper",children:Object(m.jsxs)("section",{className:"promo",children:[Object(m.jsxs)("div",{className:"promo__container",children:[Object(m.jsx)("h1",{className:"promo__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043a\u0438 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431\u2011\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."}),Object(m.jsx)("p",{className:"promo__description",children:"\u041b\u0438\u0441\u0442\u0430\u0439\u0442\u0435 \u043d\u0438\u0436\u0435, \u0447\u0442\u043e\u0431\u044b \u0443\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043f\u0440\u043e \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0435\u043a\u0442 \u0438 \u0435\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c\u043d\u0438\u0446\u0443."})]}),Object(m.jsx)("div",{className:"promo__logo"})]})})};n(42);function _(e){var t=e.children;return Object(m.jsx)("div",{className:"nav-tab__wrapper",children:Object(m.jsx)("section",{className:"nav-tab",children:t})})}_.defaultProps={children:void 0};var f=_,p=(n(43),s.a.forwardRef((function(e,t){return Object(m.jsxs)("section",{className:"about-project",ref:t,children:[Object(m.jsx)("h2",{className:"about-project__title",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(m.jsxs)("div",{className:"about-project__wrapper",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{className:"about-project__subtitle",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(m.jsx)("p",{className:"about-project__description",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{className:"about-project__subtitle",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(m.jsx)("p",{className:"about-project__description",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]})]}),Object(m.jsxs)("div",{className:"diagramma",children:[Object(m.jsxs)("div",{className:"diagramma__left-side",children:[Object(m.jsx)("h3",{className:"diagramma__cell diagramma__cell_side_left",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"}),Object(m.jsx)("p",{className:"diagramma__caption",children:"Back-end"})]}),Object(m.jsxs)("div",{className:"diagramma__right-side",children:[Object(m.jsx)("h3",{className:"diagramma__cell",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"}),Object(m.jsx)("p",{className:"diagramma__caption",children:"Front-end"})]})]})]})})));n(44);var g=function(){return Object(m.jsx)("div",{className:"techs__wrapper",children:Object(m.jsxs)("div",{className:"techs",children:[Object(m.jsx)("h2",{className:"techs__title",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(m.jsx)("h3",{className:"techs__subtitle",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(m.jsx)("p",{className:"techs__text",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}),Object(m.jsxs)("ul",{className:"techs__list",children:[Object(m.jsx)("li",{className:"techs__list-item",children:"HTML"}),Object(m.jsx)("li",{className:"techs__list-item",children:"CSS"}),Object(m.jsx)("li",{className:"techs__list-item",children:"JS"}),Object(m.jsx)("li",{className:"techs__list-item",children:"React"}),Object(m.jsx)("li",{className:"techs__list-item",children:"Git"}),Object(m.jsx)("li",{className:"techs__list-item",children:"Express.js"}),Object(m.jsx)("li",{className:"techs__list-item",children:"mongoDB"})]})]})})},O=(n(45),n.p+"static/media/photo-me.da5a148b.jpg");var v=function(){return Object(m.jsxs)("div",{className:"about-me",children:[Object(m.jsx)("h2",{className:"about-me__title",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442\u043a\u0430"}),Object(m.jsxs)("div",{className:"about-me__container",children:[Object(m.jsxs)("div",{className:"about-me__text-container",children:[Object(m.jsx)("h3",{className:"about-me__name",children:"\u0421\u043e\u0444\u044c\u044f"}),Object(m.jsx)("p",{className:"about-me__profession",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 31 \u0433\u043e\u0434"}),Object(m.jsx)("p",{className:"about-me__text",children:"\u042f \u0436\u0438\u0432\u0443 \u0432 \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433\u0435, \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438 \u0438 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0420\u0413\u041f\u0423 \u0438\u043c.\u0413\u0435\u0440\u0446\u0435\u043d\u0430. \u042f \u043b\u044e\u0431\u043b\u044e \u0448\u0438\u0442\u044c \u0438 \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u0434\u043e\u043b\u0433\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430 \u043f\u043e\u0440\u0442\u043d\u043e\u0439, \u0441\u0435\u0439\u0447\u0430\u0441 \u043c\u043e\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u0441\u0432\u044f\u0437\u0430\u043d\u0430 \u0441\u043e \u0448\u0432\u0435\u0439\u043d\u043e\u0439 \u0438 \u0432\u044b\u0448\u0438\u0432\u0430\u043b\u044c\u043d\u043e\u0439 \u0442\u0435\u0445\u043d\u0438\u043a\u043e\u0439. \u0410 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0431\u0435\u0433\u043e\u043c. \u041d\u0435\u0434\u0430\u0432\u043d\u043e, \u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u0443\u0447\u0435\u0431\u0435 \u0432 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0435, \u043d\u0430\u0447\u0430\u043b\u0430 \u043a\u043e\u0434\u0438\u0442\u044c. \u041f\u043e\u0441\u043b\u0435 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u043a\u0443\u0440\u0441\u0430 \u043f\u043b\u0430\u043d\u0438\u0440\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0432 \u0441\u0444\u0435\u0440\u0435 IT."}),Object(m.jsxs)("div",{className:"about-me__social-media",children:[Object(m.jsx)("a",{href:"https://www.instagram.com/soninson/",className:"about-me__link",target:"_blank",rel:"noreferrer",children:"Instagram"}),Object(m.jsx)("a",{href:"https://github.com/sonja-p",className:"about-me__link",target:"_blank",rel:"noreferrer",children:"Github"})]})]}),Object(m.jsx)("img",{className:"about-me__photo",alt:"\u041c\u043e\u044f \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f",src:O})]})]})};n(46);var x=function(){return Object(m.jsxs)("div",{className:"portfolio",children:[Object(m.jsx)("h2",{className:"portfolio__title",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(m.jsxs)("ul",{className:"portfolio__links",children:[Object(m.jsxs)("li",{className:"portfolio__links-item",children:[Object(m.jsx)("p",{className:"portfolio__link-title",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(m.jsx)("a",{href:"https://sonja-p.github.io/how-to-learn/",className:"portfolio__link",target:"_blank",rel:"noreferrer",children:"\u2197"})]}),Object(m.jsxs)("li",{className:"portfolio__links-item",children:[Object(m.jsx)("p",{className:"portfolio__link-title",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(m.jsx)("a",{href:"https://sonja-p.github.io/russian-travel/",className:"portfolio__link",target:"_blank",rel:"noreferrer",children:"\u2197"})]}),Object(m.jsxs)("li",{className:"portfolio__links-item",children:[Object(m.jsx)("p",{className:"portfolio__link-title",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"}),Object(m.jsx)("a",{href:"https://puolukka.nomoredomains.space",className:"portfolio__link",target:"_blank",rel:"noreferrer",children:"\u2197"})]})]})]})};n(47);var N=function(){return Object(m.jsxs)("div",{className:"footer",children:[Object(m.jsx)("p",{className:"footer__about-project",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(m.jsxs)("div",{className:"footer__container",children:[Object(m.jsxs)("p",{className:"footer__copyright",children:["\xa9"," ",(new Date).getFullYear()]}),Object(m.jsxs)("ul",{className:"footer__links",children:[Object(m.jsx)("li",{className:"footer__links-item",children:Object(m.jsx)("a",{href:"https://practicum.yandex.ru",className:"footer__link",target:"_blank",rel:"noreferrer",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(m.jsx)("li",{className:"footer__links-item",children:Object(m.jsx)("a",{href:"https://github.com/sonja-p",className:"footer__link",target:"_blank",rel:"noreferrer",children:"Github"})}),Object(m.jsx)("li",{className:"footer__links-item",children:Object(m.jsx)("a",{href:"https://www.instagram.com/soninson",className:"footer__link",target:"_blank",rel:"noreferrer",children:"Instagram"})})]})]})]})};var k=function(e){var t=e.loggedIn,n=s.a.createRef();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(h,{loggedIn:t}),Object(m.jsxs)("main",{className:"main",children:[Object(m.jsx)(b,{}),Object(m.jsx)(f,{children:Object(m.jsx)("button",{onClick:function(){n.current.scrollIntoView({behavior:"smooth"})},type:"button",className:"nav-tab__link",children:"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435"})}),Object(m.jsx)(p,{ref:n}),Object(m.jsx)(g,{}),Object(m.jsx)(v,{}),Object(m.jsx)(x,{})]}),Object(m.jsx)(N,{})]})},F=n(6),y=(n(48),n(49),n(13));function w(){var e=Object(a.useState)({}),t=Object(l.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)({}),r=Object(l.a)(i,2),c=r[0],o=r[1],d=Object(a.useState)(!1),u=Object(l.a)(d,2),m=u[0],j=u[1],h=Object(a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];s(e),o(t),j(n)}),[s,o,j]);return{values:n,handleChange:function(e){var t=e.target,a=t.value,i=t.name;s(Object(F.a)(Object(F.a)({},n),{},Object(y.a)({},i,a))),o(Object(F.a)(Object(F.a)({},c),{},Object(y.a)({},i,t.validationMessage))),j(t.closest("form").checkValidity())},resetForm:h,errors:c,isValid:m}}var S=function(e){var t=e.findMovies,n=e.isLoading,s=w(),i=s.values,r=s.handleChange,c=s.resetForm,o=Object(a.useState)(""),d=Object(l.a)(o,2),u=d[0],j=d[1];return Object(m.jsx)("form",{className:"search-form",title:"\u041f\u043e\u0438\u0441\u043a \u0444\u0438\u043b\u044c\u043c\u0430",name:"search-film",onSubmit:function(e){e.preventDefault(),i.movie?(t(i.movie),j(""),c()):j("\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e")},children:Object(m.jsxs)("div",{className:"search-form__container",children:[Object(m.jsx)("input",{className:"search-form__input",onChange:r,id:"movie",name:"movie",type:"text",value:i.movie||"",maxLength:"100",placeholder:"\u0424\u0438\u043b\u044c\u043c",disabled:n}),Object(m.jsx)("span",{className:"search-form__input-error",id:"movie-error",children:u}),Object(m.jsx)("button",{type:"submit",className:"search-form__button ".concat(n&&"search-form__button_disabled"),children:n?"\u041f\u043e\u0438\u0441\u043a...":"\u041d\u0430\u0439\u0442\u0438"})]})})};n(50);var C=function(e){var t=e.filtered,n=e.handleCheck;return Object(m.jsxs)("div",{className:"filter-checkbox",children:[Object(m.jsxs)("label",{className:"filter-checkbox__switch",children:[Object(m.jsx)("input",{type:"checkbox",onClick:function(){n(!t)},className:"filter-checkbox__input"}),Object(m.jsx)("span",{className:"filter-checkbox__slider"})]}),Object(m.jsx)("h3",{className:"filter-checkbox__title",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]})},I=(n(51),n(52),function(){return Object(m.jsx)("div",{className:"preloader",children:Object(m.jsx)("div",{className:"preloader__container",children:Object(m.jsx)("span",{className:"preloader__round"})})})});var L=function(e,t){var n=null;return function(){for(var a=this,s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];n||(n=setTimeout((function(){e.call.apply(e,[a].concat(i)),n=null}),t))}},M="https://api.nomoreparties.co";function E(e){var t=e.isLoading,n=e.moviesCards,s=e.messages,i=e.children,r=Object(a.useState)(0),c=Object(l.a)(r,2),o=c[0],d=c[1],u=Object(a.useState)(window.innerWidth),j=Object(l.a)(u,2),h=j[0],b=j[1];Object(a.useEffect)((function(){var e=L((function(){b(window.innerWidth)}),1e3);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);return Object(a.useEffect)((function(){d(h>768?12:h>480&&h<=768?8:5)}),[h]),Object(m.jsx)("section",{className:"movies-cardlist",children:t?Object(m.jsx)(I,{}):Object(m.jsx)(m.Fragment,{children:s.searchForm?Object(m.jsx)("span",{className:"movies-cardlist__message",children:s.searchForm}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("ul",{className:"movies-cardlist__list",children:i.slice(0,o)}),n.length>o&&Object(m.jsx)("button",{className:"movies-cardlist__button",type:"button",onClick:function(){d(h>1020?o+3:o+2)},children:"\u0415\u0449\u0451"})]})})})}E.defaultProps={children:void 0};var R=E;n(53);function U(e){var t=e.id,n=e.country,a=e.director,s=e.duration,i=e.year,r=e.description,c=e.image,o=e.trailerLink,l=e.trailer,u=e.nameRU,j=e.nameEN,h=e.onCardLike,b=e.onCardDelete,_=e.isLiked,f=Object(d.i)({path:"/saved-movies",exact:!0}),p=Object(d.i)({path:"/movies",exact:!0});var g;return Object(m.jsxs)("li",{className:"movies-card",children:[Object(m.jsxs)("div",{className:"movies-card__container",children:[Object(m.jsx)("h3",{className:"movies-card__title",children:u}),Object(m.jsx)("span",{className:"movies-card__duration",children:"".concat(s," ").concat((g=s,g%10>=2&&g%10<=4?"\u043c\u0438\u043d\u0443\u0442\u044b":g%10===1?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442"))})]}),p?Object(m.jsx)("a",{href:o,target:"_blank",rel:"noreferrer",className:"movies-card__link",children:Object(m.jsx)("img",{src:"".concat(M).concat(c.url),alt:'\u041e\u0431\u043b\u043e\u0436\u043a\u0430 \u0444\u0438\u043b\u044c\u043c\u0430 "'.concat(u,'"'),className:"movies-card__image"})}):Object(m.jsx)("a",{href:l,target:"_blank",rel:"noreferrer",className:"movies-card__link",children:Object(m.jsx)("img",{src:"".concat(M).concat(c),alt:'\u041e\u0431\u043b\u043e\u0436\u043a\u0430 \u0444\u0438\u043b\u044c\u043c\u0430 "'.concat(u,'"'),className:"movies-card__image"})}),p&&_&&Object(m.jsx)("button",{className:"movies-card__button movies-card__button_type_saved",type:"button","aria-label":"Save",onClick:b}),p&&!_&&Object(m.jsx)("button",{className:"movies-card__button",type:"button",onClick:function(){h({id:t,country:n,director:a,duration:s,year:i,description:r,image:c,trailerLink:o,nameRU:u,nameEN:j})},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),f&&Object(m.jsx)("button",{className:"movies-card__button movies-card__button_type_delete",type:"button","aria-label":"Delete",onClick:function(){b(e)}})]})}U.defaultProps={id:void 0,onCardLike:void 0,isLiked:void 0,trailer:void 0,trailerLink:void 0,country:void 0,director:void 0,nameEN:void 0};var D=U;var J=function(e){var t=e.loggedIn,n=e.isLoading,s=e.findMovies,i=e.movies,r=e.messages,c=e.onCardLike,o=e.onCardDelete,d=e.likedMovies,u=Object(a.useState)(!1),j=Object(l.a)(u,2),b=j[0],_=j[1],f=b?i.filter((function(e){return e.duration<=40})):i;return Object(m.jsxs)("div",{className:"movies",children:[Object(m.jsx)(h,{loggedIn:t}),Object(m.jsx)(S,{findMovies:s,isLoading:n}),Object(m.jsx)(C,{filtered:b,handleCheck:function(e){return _(e)}}),Object(m.jsx)(R,{isLoading:n,moviesCards:f,messages:r,onCardLike:c,children:f.map((function(e){return Object(m.jsx)(D,Object(F.a)(Object(F.a)({},e),{},{onCardLike:c,onCardDelete:function(){return o(e)},isLiked:d.includes(e.id)}),e.id)}))}),Object(m.jsx)(N,{})]})};n(54);var P=function(e){var t=e.isLoading,n=e.loggedIn,s=e.findMovies,i=e.movies,r=e.messages,c=e.onCardDelete,o=Object(a.useState)(!1),d=Object(l.a)(o,2),u=d[0],j=d[1],b=u?i.filter((function(e){return e.duration<=40})):i;return Object(m.jsxs)("div",{className:"saved-movies",children:[Object(m.jsx)(h,{loggedIn:n}),Object(m.jsx)(S,{findMovies:s,isLoading:t}),Object(m.jsx)(C,{filtered:u,handleCheck:function(e){return j(e)}}),Object(m.jsx)(R,{isLoading:t,moviesCards:b,messages:r,children:b.map((function(e){return Object(m.jsx)(D,Object(F.a)(Object(F.a)({},e),{},{onCardDelete:c}),e.movieId)})).reverse()}),Object(m.jsx)(N,{})]})};n(55);var T=function(e){var t=e.handleRegister,n=e.isSending,s=e.messages,i=w(),r=i.values,o=i.handleChange,l=i.resetForm,d=i.errors,j=i.isValid;return Object(a.useEffect)((function(){l({})}),[]),Object(m.jsxs)("div",{className:"register",children:[Object(m.jsx)(c.b,{to:".",className:"register__link",children:Object(m.jsx)("img",{src:u,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",className:"register__logo"})}),Object(m.jsx)("h2",{className:"register__title",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),Object(m.jsxs)("form",{className:"register__form",onSubmit:function(e){e.preventDefault();var n=r.name,a=r.password,s=r.email;t({name:n,password:a,email:s})},children:[Object(m.jsx)("span",{className:"register__input-title",children:"\u0418\u043c\u044f"}),Object(m.jsx)("input",{className:"register__input",onChange:o,id:"name",name:"name",type:"text",pattern:"^[\u0410-\u042f\u0430-\u044f\u0401\u0451A-Za-z]+-? ?[\u0410-\u042f\u0430-\u044f\u0401\u0451A-Za-z]+$",value:r.name||"",minLength:"2",maxLength:"20",required:!0,disabled:n}),Object(m.jsx)("span",{className:"register__input-error",id:"name-error",children:d.name}),Object(m.jsx)("span",{className:"register__input-title",children:"E-mail"}),Object(m.jsx)("input",{className:"register__input",onChange:o,id:"email",name:"email",type:"email",value:r.email||"",required:!0,disabled:n}),Object(m.jsx)("span",{className:"register__input-error",id:"email-error",children:d.email}),Object(m.jsx)("span",{className:"register__input-title",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(m.jsx)("input",{className:"register__input",onChange:o,id:"password",name:"password",type:"password",value:r.password||"",autoComplete:"on",required:!0,disabled:n}),Object(m.jsx)("span",{className:"register__input-error",id:"password-error",children:d.password}),Object(m.jsx)("span",{className:"register__input-error",id:"messages",children:s.regForm}),Object(m.jsx)("button",{type:"submit",className:"register__button\n            ".concat(!j&&"register__button_disabled","\n            ").concat(n&&"register__button_disabled"),children:n?"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f...":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(m.jsxs)("div",{className:"register__signin",children:[Object(m.jsx)("p",{className:"register__link-title",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(m.jsx)(c.b,{to:"signin",className:"register__login-link",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})};n(56);var z=function(e){var t=e.handleLogin,n=e.isSending,s=e.messages,i=w(),r=i.values,o=i.handleChange,l=i.resetForm,d=i.errors,j=i.isValid;return Object(a.useEffect)((function(){l({})}),[]),Object(m.jsxs)("div",{className:"login",children:[Object(m.jsx)(c.b,{to:".",className:"login__link",children:Object(m.jsx)("img",{src:u,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",className:"login__logo"})}),Object(m.jsx)("h2",{className:"login__title",children:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!"}),Object(m.jsxs)("form",{className:"login__form",onSubmit:function(e){if(e.preventDefault(),r.email&&r.password){var n=r.password,a=r.email;t({password:n,email:a})}},children:[Object(m.jsx)("span",{className:"login__input-title",children:"E-mail"}),Object(m.jsx)("input",{className:"login__input",onChange:o,id:"email",name:"email",type:"email",value:r.email||"",required:!0,disabled:n}),Object(m.jsx)("span",{className:"login__input-error",id:"email-error",children:d.email}),Object(m.jsx)("span",{className:"login__input-title",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(m.jsx)("input",{className:"login__input",id:"password",name:"password",type:"password",onChange:o,value:r.password||"",autoComplete:"on",required:!0,disabled:n}),Object(m.jsx)("span",{className:"login__input-error",id:"password-error",children:d.password}),Object(m.jsx)("span",{className:"login__input-error",id:"messages",children:s.authForm}),Object(m.jsx)("button",{type:"submit",className:"login__button\n          ".concat(!j&&"login__button_disabled","\n          ").concat(n&&"login__button_disabled"),children:n?"\u0412\u0445\u043e\u0434...":"\u0412\u043e\u0439\u0442\u0438"}),Object(m.jsxs)("div",{className:"login__signup",children:[Object(m.jsx)("p",{className:"login__link-title",children:"\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(m.jsx)(c.b,{to:"signup",className:"login__register-link",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})]})},A=(n(57),s.a.createContext());var q=function(e){var t=e.handleLogout,n=e.loggedIn,s=e.onUpdateUser,i=e.isSending,r=e.messages,c=Object(a.useContext)(A),o=w(),l=o.values,d=o.handleChange,u=o.resetForm,j=o.errors,b=o.isValid;return Object(a.useEffect)((function(){c&&u(c,{},!0)}),[c,u]),Object(m.jsxs)("div",{className:"profile",children:[Object(m.jsx)(h,{loggedIn:n}),Object(m.jsx)("h2",{className:"profile__form-title",children:"\u041f\u0440\u0438\u0432\u0435\u0442, ".concat(c.name,"!")}),Object(m.jsxs)("form",{className:"profile__form",onSubmit:function(e){e.preventDefault(),s({email:l.email,name:l.name})},children:[Object(m.jsxs)("div",{className:"profile__input-container",children:[Object(m.jsx)("span",{className:"profile__input-title",children:"\u0418\u043c\u044f"}),Object(m.jsx)("input",{className:"profile__input",onChange:d,id:"name",name:"name",type:"text",pattern:"^[\u0410-\u042f\u0430-\u044f\u0401\u0451A-Za-z]+-? ?[\u0410-\u042f\u0430-\u044f\u0401\u0451A-Za-z]+$",value:l.name||c.name,minLength:"2",maxLength:"20",required:!0})]}),Object(m.jsx)("span",{className:"login__input-error",id:"email-error",children:j.name}),Object(m.jsxs)("div",{className:"profile__input-container",children:[Object(m.jsx)("span",{className:"profile__input-title",children:"E-mail"}),Object(m.jsx)("input",{className:"profile__input",onChange:d,id:"email",name:"email",type:"email",value:l.email||c.email,required:!0})]}),Object(m.jsx)("span",{className:"login__input-error",id:"email-error",children:j.email}),r&&Object(m.jsx)("span",{className:"login__input-error",id:"messages",children:r.profileForm}),Object(m.jsx)("button",{type:"submit",className:"profile__button\n          ".concat(!b&&"login__button_disabled","\n          ").concat(l.email===c.email&&l.name===c.name&&"login__button_disabled","\n          ").concat(i&&"login__button_disabled"),children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(m.jsx)("button",{type:"button",className:"profile__button profile__button_type_exit",onClick:t,children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})]})};n(58);var V=function(e){var t=e.loggedIn,n=Object(d.g)();return Object(m.jsxs)("div",{className:"not-found",children:[Object(m.jsx)("span",{className:"not-found__error-code",children:"404"}),Object(m.jsx)("p",{className:"not-found__error-text",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(m.jsx)("button",{type:"button",onClick:function(){t&&n.length>4?n.go(-2):n.push("/")},className:"not-found__link",children:"\u041d\u0430\u0437\u0430\u0434"})]})},B=n(11),Z=n(12),G={baseUrl:"https://api.movies-explorer.nomoredomains.space",beatfilmUrl:"https://api.nomoreparties.co/beatfilm-movies",headers:{Accept:"application/json","Content-Type":"application/json"}},H=new(function(){function e(t){Object(B.a)(this,e),this._parseResponse=function(e){return e.ok?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status)))},this._url=t.beatfilmUrl,this._headers=t.headers}return Object(Z.a)(e,[{key:"getMovies",value:function(){var e=this;return fetch(this._url,{headers:this._headers}).then((function(t){return e._parseResponse(t)}))}}]),e}())(G),W=new(function(){function e(t){Object(B.a)(this,e),this._parseResponse=function(e){return e.ok?e.json():Promise.reject(new Error(e.status))},this._url=t.baseUrl,this._headers=t.headers}return Object(Z.a)(e,[{key:"getUserInfo",value:function(){var e=this;return fetch("".concat(this._url,"/users/me"),{headers:this._headers,credentials:"include"}).then((function(t){return e._parseResponse(t)}))}},{key:"getSavedMovies",value:function(){var e=this;return fetch("".concat(this._url,"/movies"),{headers:this._headers,credentials:"include"}).then((function(t){return e._parseResponse(t)}))}},{key:"setUserInfo",value:function(e,t){var n=this;return fetch("".concat(this._url,"/users/me"),{method:"PATCH",credentials:"include",headers:this._headers,body:JSON.stringify(e,t)}).then((function(e){return n._parseResponse(e)}))}},{key:"saveMovie",value:function(e){var t=this,n=e.id,a=e.country,s=e.director,i=e.duration,r=e.year,c=e.description,o=e.image,l=e.trailerLink,d=e.nameRU,u=e.nameEN;return fetch("".concat(this._url,"/movies"),{method:"POST",headers:this._headers,credentials:"include",body:JSON.stringify({country:a,director:s,duration:i,year:r,description:c,image:o.url,trailer:l,thumbnail:o.formats.thumbnail.url,nameRU:d,nameEN:u,movieId:n})}).then((function(e){return t._parseResponse(e)}))}},{key:"deleteMovie",value:function(e){var t=this;return fetch("".concat(this._url,"/movies/").concat(e),{headers:this._headers,method:"DELETE",credentials:"include"}).then((function(e){return t._parseResponse(e)}))}}]),e}())(G),$=new(function(){function e(t){var n=this;Object(B.a)(this,e),this._checkResponse=function(e){return e.ok?e.json():Promise.reject(new Error(e.status))},this.register=function(e,t,a){return fetch("".concat(n._url,"/signup"),{headers:n._headers,method:"POST",credentials:"include",body:JSON.stringify({name:"".concat(e),password:"".concat(t),email:"".concat(a)})}).then((function(e){return n._checkResponse(e)}))},this.logout=function(){return fetch("".concat(n._url,"/logout"),{headers:n._headers,credentials:"include"}).then((function(e){return n._checkResponse(e)}))},this._url=t.baseUrl,this._headers=t.headers}return Object(Z.a)(e,[{key:"authorize",value:function(e,t){var n=this;return fetch("".concat(this._url,"/signin"),{headers:this._headers,method:"POST",credentials:"include",body:JSON.stringify({password:"".concat(e),email:"".concat(t)})}).then((function(e){return n._checkResponse(e)}))}}]),e}())(G),Y=n(25),K=["component"],Q=function(e){var t=e.component,n=Object(Y.a)(e,K);return Object(m.jsx)(d.b,{children:function(){return n.loggedIn?Object(m.jsx)(t,Object(F.a)({},n)):Object(m.jsx)(d.a,{to:"./"})}})};var X=function(){var e=Object(a.useState)({name:"",email:""}),t=Object(l.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(!1),r=Object(l.a)(i,2),c=r[0],u=r[1],j=Object(a.useState)({regForm:null,authForm:null,profileForm:null,searchForm:null,auth:null}),h=Object(l.a)(j,2),b=h[0],_=h[1],f=Object(a.useState)([]),p=Object(l.a)(f,2),g=p[0],O=p[1],v=Object(a.useState)(!1),x=Object(l.a)(v,2),N=x[0],F=x[1],y=Object(a.useState)(!1),w=Object(l.a)(y,2),S=w[0],C=w[1],I=Object(a.useState)([]),L=Object(l.a)(I,2),M=L[0],E=L[1],R=JSON.parse(localStorage.getItem("savedMovies")),U=Object(d.g)(),D=Object(d.h)(),B=function(){_({regForm:null,authForm:null,profileForm:null,searchForm:null,auth:null})};Object(a.useEffect)((function(){S&&W.getSavedMovies().then((function(e){E(e),localStorage.setItem("savedMovies",JSON.stringify(e))})).catch((function(e){console.log(e.message)}))}),[S]),Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("foundMovies"));null!==e&&S&&O(e)}),[S]),Object(a.useEffect)((function(){W.getUserInfo().then((function(e){s(e),C(!0),U.push(D.pathname)})).catch((function(e){console.log(e.message),C(!1),_({regForm:null,authForm:null,profileForm:null,searchForm:null,auth:"\u041f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0422\u043e\u043a\u0435\u043d \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u043d \u043d\u0435 \u0432 \u0442\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435"}),s({name:"",email:""}),localStorage.removeItem("foundMovies"),localStorage.removeItem("savedMovies")}))}),[]),Object(a.useEffect)((function(){B()}),[]);var Z=function(e){var t=JSON.parse(localStorage.getItem("beatFilmMovies")).filter((function(t){return t.nameRU.toLowerCase().includes(e.toLowerCase())}));0===t.length?_({regForm:null,authForm:null,profileForm:null,searchForm:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",auth:null}):(O(t),localStorage.setItem("foundMovies",JSON.stringify(t)),B())},G=function(e){var t=e.id||e.movieId,n=M.find((function(e){return e.movieId===t}));W.deleteMovie(n._id).then((function(){E((function(e){return e.filter((function(e){return e._id!==n._id}))}));var e=R.filter((function(e){return e._id!==n._id}));localStorage.setItem("savedMovies",JSON.stringify(e))})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0444\u0438\u043b\u044c\u043c\u0430",e.message)}))};return Object(m.jsx)(A.Provider,{value:n,children:Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)(d.d,{children:[Object(m.jsx)(Q,{exact:!0,path:"/movies",loggedIn:S,component:J,isLoading:c,findMovies:function(e){JSON.parse(localStorage.getItem("beatFilmMovies"))?Z(e):(u(!0),H.getMovies().then((function(e){localStorage.setItem("beatFilmMovies",JSON.stringify(e))})).then((function(){Z(e)})).catch((function(){_({regForm:null,authForm:null,profileForm:null,searchForm:"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437",auth:null})})).finally((function(){return u(!1)})))},movies:g,messages:b,onCardLike:function(e){var t=e.id,n=e.country||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",a=e.director||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",s=e.duration||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",i=e.year||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",r=e.description||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",c=e.image||"/uploads/_.jpeg",l=e.trailerLink||"https://www.youtube.com/=",d=e.nameRU||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",u=e.nameEN||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e";W.saveMovie({id:t,country:n,director:a,duration:s,year:i,description:r,image:c,trailerLink:l,nameRU:d,nameEN:u}).then((function(e){E([].concat(Object(o.a)(M),[e])),localStorage.setItem("savedMovies",JSON.stringify([e].concat(Object(o.a)(M))))})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0444\u0438\u043b\u044c\u043c\u0430",e.message)}))},onCardDelete:G,likedMovies:M.map((function(e){return e.movieId}))}),Object(m.jsx)(Q,{exact:!0,path:"/saved-movies",loggedIn:S,component:P,isLoading:c,findMovies:function(e){var t=R.filter((function(t){return t.nameRU.toLowerCase().includes(e.toLowerCase())}));0===t.length?_({regForm:null,authForm:null,profileForm:null,searchForm:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",auth:null}):(E(t),B())},movies:M,messages:b,onCardDelete:G}),Object(m.jsxs)(d.b,{exact:!0,path:"/signup",children:[S&&Object(m.jsx)(d.a,{to:"/"}),Object(m.jsx)(T,{handleRegister:function(e){var t=e.name,n=e.password,a=e.email;F(!0),$.register(t,n,a).then((function(){$.authorize(n,a).then((function(e){s(e),C(!0),console.log("\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e")})).then((function(){return U.push("/movies")}))})).catch((function(e){"409"===e.message?_({regForm:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442",authForm:null,profileForm:null,searchForm:null,auth:null}):_({regForm:"\u041f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",authForm:null,profileForm:null,searchForm:null,auth:null})})).finally((function(){return F(!1)}))},isSending:N,messages:b})]}),Object(m.jsxs)(d.b,{exact:!0,path:"/signin",children:[S&&Object(m.jsx)(d.a,{to:"/"}),Object(m.jsx)(z,{handleLogin:function(e){var t=e.password,n=e.email;F(!0),$.authorize(t,n).then((function(e){s(e),C(!0),console.log("\u0423\u0441\u043f\u0435\u0448\u043d\u044b\u0439 \u0432\u0445\u043e\u0434 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442")})).then((function(){return U.push("/movies")})).catch((function(e){e&&_({regForm:null,authForm:"\u0412\u044b \u0432\u0432\u0435\u043b\u0438 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c",profileForm:null,searchForm:null,auth:null})})).finally((function(){return F(!1)}))},isSending:N,messages:b})]}),Object(m.jsx)(Q,{exact:!0,path:"/profile",loggedIn:S,component:q,handleLogout:function(){$.logout().then((function(){U.push("/signin"),C(!1),s({name:"",email:""}),localStorage.removeItem("foundMovies"),localStorage.removeItem("savedMovies"),O([]),E([])})).catch((function(e){var t;t=e,console.error(t)}))},onUpdateUser:function(e,t){F(!0),W.setUserInfo(e,t).then((function(e){s(e),console.log(e),_({regForm:null,authForm:null,profileForm:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e",searchForm:null,auth:null})})).catch((function(e){"409"===e.message?_({regForm:null,authForm:null,profileForm:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442",searchForm:null,auth:null}):_({regForm:null,authForm:null,profileForm:"\u041f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",searchForm:null,auth:null})})).finally((function(){return F(!1)}))},isSending:N,messages:b}),Object(m.jsx)(d.b,{exact:!0,path:"/",children:Object(m.jsx)(k,{loggedIn:S})}),Object(m.jsx)(d.b,{path:"/*",children:Object(m.jsx)(V,{loggedIn:S})})]})})})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,60)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),i(e),r(e)}))};r.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(c.a,{children:Object(m.jsx)(X,{})})}),document.getElementById("root")),ee()}]),[[59,1,2]]]);
//# sourceMappingURL=main.77c13bd9.chunk.js.map