{"version":3,"sources":["images/header-logo.svg","components/Navigation/Navigation.jsx","components/Header/Header.jsx","components/Promo/Promo.jsx","components/NavTab/NavTab.jsx","components/AboutProject/AboutProject.jsx","components/Techs/Techs.jsx","images/photo-me.jpg","components/AboutMe/AboutMe.jsx","components/Portfolio/Portfolio.jsx","components/Footer/Footer.jsx","components/Main/Main.jsx","hooks/useForm.js","components/SearchForm/SearchForm.jsx","components/FilterCheckbox/FilterCheckbox.jsx","components/Preloader/Preloader.jsx","utils/throttle.js","components/MoviesCardList/MoviesCardList.jsx","utils/constants.js","components/MoviesCard/MoviesCard.jsx","components/Movies/Movies.jsx","components/SavedMovies/SavedMovies.jsx","components/Register/Register.jsx","components/Login/Login.jsx","contexts/CurrentUserContext.js","components/Profile/Profile.jsx","components/NotFound/NotFound.jsx","utils/MoviesApi.js","utils/MainApi.js","utils/auth.js","components/ProtectedRoute/ProtectedRoute.jsx","components/App/App.jsx","reportWebVitals.js","index.jsx"],"names":["Navigation","useState","isMenuOpen","setMenuOpen","className","exact","to","activeClassName","type","onClick","Header","loggedIn","isMain","useRouteMatch","path","src","logo","alt","Promo","NavTab","children","defaultProps","undefined","AboutProject","React","forwardRef","props","ref","Techs","AboutMe","href","target","rel","photoMe","Portfolio","Footer","Date","getFullYear","Main","createRef","current","scrollIntoView","behavior","useFormWithValidation","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","evt","input","value","name","validationMessage","closest","checkValidity","SearchForm","findMovies","isLoading","error","setError","title","onSubmit","e","preventDefault","movie","onChange","id","maxLength","placeholder","disabled","FilterCheckbox","filtered","handleCheck","Preloader","throttle","func","delay","timeout","args","setTimeout","call","MoviesCardList","moviesCards","messages","cardsCount","setCardsCount","window","innerWidth","windowWidth","setWindowWidth","useEffect","callback","addEventListener","removeEventListener","searchForm","slice","length","reqOptions","baseUrl","url","beatfilmUrl","headers","Accept","MoviesCard","country","director","duration","year","description","image","trailerLink","trailer","nameRU","nameEN","onCardLike","onCardDelete","isLiked","isSavedMovies","isMovies","n","Movies","movies","likedMovies","setFiltered","data","filter","map","card","includes","SavedMovies","movieId","reverse","Register","handleRegister","isSending","password","email","pattern","minLength","required","autoComplete","regForm","Login","handleLogin","authForm","CurrentUserContext","createContext","Profile","handleLogout","onUpdateUser","currentUser","useContext","profileForm","NotFound","history","useHistory","go","push","MoviesApi","options","_parseResponse","res","ok","json","Promise","reject","Error","status","this","_url","_headers","fetch","then","MainApi","credentials","method","body","JSON","stringify","thumbnail","formats","auth","_checkResponse","response","register","logout","ProtectedRoute","Component","component","App","setCurrentUser","setIsLoading","setMessages","setMovies","isFormSending","setIsFormSending","setLoggedIn","savedMovies","setSavedMovies","location","useLocation","resetMessages","localMovies","parse","localStorage","getItem","getSavedMovies","usersMovies","setItem","catch","err","console","log","message","getUserInfo","user","pathname","removeItem","handleDelete","userMovie","find","i","deleteMovie","_id","state","c","newSavedMovies","Provider","getMovies","foundMovies","toLowerCase","finally","saveMovie","savedMovie","foundSavedMovies","authorize","userData","setUserInfo","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.83c2cd68.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.3406903e.svg\";","import React, { useState } from 'react';\nimport { NavLink, Link } from 'react-router-dom';\nimport './Navigation.css';\n\nfunction Navigation() {\n  const [isMenuOpen, setMenuOpen] = useState(false);\n\n  function toggleMenu() {\n    setMenuOpen(!isMenuOpen);\n  }\n\n  return (\n    <nav className=\"navigation\">\n      <div className={`navigation__menu ${isMenuOpen ? 'navigation_menu-open' : ''}`}>\n        <div className=\"navigation__container\">\n          <NavLink\n            exact\n            to=\".\"\n            className=\"navigation__link navigation__link_hidden\"\n            activeClassName=\"navigation__link_selected\"\n          >\n            Главная\n          </NavLink>\n          <NavLink\n            to=\"movies\"\n            className=\"navigation__link\"\n            activeClassName=\"navigation__link_selected\"\n          >\n            Фильмы\n          </NavLink>\n          <NavLink\n            to=\"saved-movies\"\n            className=\"navigation__link\"\n            activeClassName=\"navigation__link_selected\"\n          >\n            Сохраненные фильмы\n          </NavLink>\n        </div>\n        <Link\n          to=\"profile\"\n          className=\"navigation__account-link\"\n        >\n          Аккаунт\n        </Link>\n      </div>\n      <button\n        type=\"button\"\n        onClick={toggleMenu}\n        aria-label=\"toggleMenu\"\n        className={`navigation__button ${isMenuOpen ? 'navigation__button_type_close' : ''}`}\n      />\n\n      <div className={`navigation__fade ${isMenuOpen ? 'navigation_menu-open' : ''}`} />\n    </nav>\n  );\n}\n\nexport default Navigation;\n","import React from 'react';\nimport './Header.css';\nimport { Link, useRouteMatch } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport logo from '../../images/header-logo.svg';\nimport Navigation from '../Navigation/Navigation';\n\nfunction Header({ loggedIn }) {\n  const isMain = useRouteMatch({ path: '/', exact: true });\n\n  return (\n    <>\n      { isMain && !loggedIn ? (\n        <div className=\"header__wrapper header__wrapper_page_landing\">\n          <header className=\"header\">\n            <Link to=\".\" className=\"header__link\">\n              <img src={logo} alt=\"Логотип\" className=\"header__logo\" />\n            </Link>\n            <nav className=\"header__container\">\n              <Link to=\"signup\" className=\"header__link header__register-link\">Регистрация</Link>\n              <Link to=\"signin\" className=\"header__login-link\">Войти</Link>\n            </nav>\n          </header>\n        </div>\n      ) : (\n        <div className={`header__wrapper ${isMain ? 'header__wrapper_page_landing' : 'header__wrapper_page_main'}`}>\n          <header className=\"header\">\n            <Link to=\".\" className=\"header__link\">\n              <img src={logo} alt=\"Логотип\" className=\"header__logo\" />\n            </Link>\n            <Navigation />\n          </header>\n        </div>\n      )}\n    </>\n  );\n}\n\nHeader.propTypes = {\n  loggedIn: PropTypes.bool.isRequired,\n};\n\nexport default Header;\n","import React from 'react';\nimport './Promo.css';\n\nfunction Promo() {\n  return (\n    <div className=\"promo__wrapper\">\n      <section className=\"promo\">\n        <div className=\"promo__container\">\n          <h1 className=\"promo__title\">Учебный проект студентки факультета Веб‑разработки.</h1>\n          <p className=\"promo__description\">Листайте ниже, чтобы узнать больше про этот проект и его создательницу.</p>\n        </div>\n        <div className=\"promo__logo\" />\n      </section>\n    </div>\n  );\n}\n\nexport default Promo;\n","import React from 'react';\nimport './NavTab.css';\nimport PropTypes from 'prop-types';\n\nfunction NavTab({ children }) {\n  return (\n    <div className=\"nav-tab__wrapper\">\n      <section className=\"nav-tab\">\n        {children}\n      </section>\n    </div>\n  );\n}\n\nNavTab.propTypes = {\n  children: PropTypes.node,\n};\n\nNavTab.defaultProps = {\n  children: undefined,\n};\n\nexport default NavTab;\n","import React from 'react';\nimport './AboutProject.css';\n\nconst AboutProject = React.forwardRef((props, ref) => (\n  <>\n    <section className=\"about-project\" ref={ref}>\n      <h2 className=\"about-project__title\">О проекте</h2>\n      <div className=\"about-project__wrapper\">\n        <div>\n          <h3 className=\"about-project__subtitle\">Дипломный проект включал 5 этапов</h3>\n          <p className=\"about-project__description\">Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.</p>\n        </div>\n        <div>\n          <h3 className=\"about-project__subtitle\">На выполнение диплома ушло 5 недель</h3>\n          <p className=\"about-project__description\">У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.</p>\n        </div>\n      </div>\n\n      <div className=\"diagramma\">\n        <div className=\"diagramma__left-side\">\n          <h3 className=\"diagramma__cell diagramma__cell_side_left\">1 неделя</h3>\n          <p className=\"diagramma__caption\">Back-end</p>\n        </div>\n        <div className=\"diagramma__right-side\">\n          <h3 className=\"diagramma__cell\">4 недели</h3>\n          <p className=\"diagramma__caption\">Front-end</p>\n        </div>\n      </div>\n\n    </section>\n  </>\n));\n\nexport default AboutProject;\n","import React from 'react';\nimport './Techs.css';\n\nfunction Techs() {\n  return (\n    <div className=\"techs__wrapper\">\n      <div className=\"techs\">\n        <h2 className=\"techs__title\">Технологии</h2>\n        <h3 className=\"techs__subtitle\">7 технологий</h3>\n        <p className=\"techs__text\">На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.</p>\n        <ul className=\"techs__list\">\n          <li className=\"techs__list-item\">HTML</li>\n          <li className=\"techs__list-item\">CSS</li>\n          <li className=\"techs__list-item\">JS</li>\n          <li className=\"techs__list-item\">React</li>\n          <li className=\"techs__list-item\">Git</li>\n          <li className=\"techs__list-item\">Express.js</li>\n          <li className=\"techs__list-item\">mongoDB</li>\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default Techs;\n","export default __webpack_public_path__ + \"static/media/photo-me.da5a148b.jpg\";","import React from 'react';\nimport './AboutMe.css';\nimport photoMe from '../../images/photo-me.jpg';\n\nfunction AboutMe() {\n  return (\n    <div className=\"about-me\">\n      <h2 className=\"about-me__title\">Студентка</h2>\n      <div className=\"about-me__container\">\n        <div className=\"about-me__text-container\">\n          <h3 className=\"about-me__name\">Софья</h3>\n          <p className=\"about-me__profession\">Фронтенд-разработчик, 31 год</p>\n          <p className=\"about-me__text\">\n            Я живу в Санкт-Петербурге,\n            закончила факультет технологии и предпринимательства РГПУ им.Герцена.\n            Я люблю шить и современные технологии,\n            долгое время работала в портнихой,\n            сейчас моя работа связана со швейной и вышивальной техникой.\n            А ещё увлекаюсь бегом.\n            Недавно, благодаря учебе в Яндекс.Практикуме, начала кодить.\n            После окончания курса планирую работать в сфере IT.\n          </p>\n\n          <div className=\"about-me__social-media\">\n            <a href=\"https://www.instagram.com/soninson/\" className=\"about-me__link\" target=\"_blank\" rel=\"noreferrer\">Instagram</a>\n            <a href=\"https://github.com/sonja-p\" className=\"about-me__link\" target=\"_blank\" rel=\"noreferrer\">Github</a>\n          </div>\n        </div>\n        <img className=\"about-me__photo\" alt=\"Моя фотография\" src={photoMe} />\n      </div>\n    </div>\n  );\n}\n\nexport default AboutMe;\n","import React from 'react';\nimport './Portfolio.css';\n\nfunction Portfolio() {\n  return (\n    <div className=\"portfolio\">\n      <h2 className=\"portfolio__title\">Портфолио</h2>\n      <ul className=\"portfolio__links\">\n        <li className=\"portfolio__links-item\">\n          <p className=\"portfolio__link-title\">Статичный сайт</p>\n          <a href=\"/movies\" className=\"portfolio__link\" rel=\"noreferrer\">\n            ↗\n          </a>\n        </li>\n        <li className=\"portfolio__links-item\">\n          <p className=\"portfolio__link-title\">Адаптивный сайт</p>\n          <a href=\"/movies\" className=\"portfolio__link\" rel=\"noreferrer\">\n            ↗\n          </a>\n        </li>\n        <li className=\"portfolio__links-item\">\n          <p className=\"portfolio__link-title\">Одностраничное приложение</p>\n          <a href=\"https://puolukka.nomoredomains.rocks\" className=\"portfolio__link\" target=\"_blank\" rel=\"noreferrer\">\n            ↗\n          </a>\n        </li>\n      </ul>\n    </div>\n  );\n}\n\nexport default Portfolio;\n","import React from 'react';\nimport './Footer.css';\n\nfunction Footer() {\n  return (\n    <div className=\"footer\">\n      <p className=\"footer__about-project\">Учебный проект Яндекс.Практикум х BeatFilm.</p>\n      <div className=\"footer__container\">\n        <p className=\"footer__copyright\">\n          &copy;\n          {' '}\n          {new Date().getFullYear()}\n        </p>\n        <ul className=\"footer__links\">\n          <li className=\"footer__links-item\">\n            <a href=\"https://practicum.yandex.ru\" className=\"footer__link\" target=\"_blank\" rel=\"noreferrer\">Яндекс.Практикум</a>\n          </li>\n          <li className=\"footer__links-item\">\n            <a href=\"https://github.com/sonja-p\" className=\"footer__link\" target=\"_blank\" rel=\"noreferrer\">Github</a>\n          </li>\n          <li className=\"footer__links-item\">\n            <a href=\"https://www.instagram.com/soninson\" className=\"footer__link\" target=\"_blank\" rel=\"noreferrer\">Instagram</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\nimport './Main.css';\nimport PropTypes from 'prop-types';\nimport Header from '../Header/Header';\nimport Promo from '../Promo/Promo';\nimport NavTab from '../NavTab/NavTab';\nimport AboutProject from '../AboutProject/AboutProject';\nimport Techs from '../Techs/Techs';\nimport AboutMe from '../AboutMe/AboutMe';\nimport Portfolio from '../Portfolio/Portfolio';\nimport Footer from '../Footer/Footer';\n\n/*\nPromo — компонент с вёрсткой баннера страницы «О проекте».\nNavTab — компонент с навигацией по странице «О проекте».\nAboutProject — компонент с описанием дипломного проекта.\nTechs — компонент с использованными технологиями.\nAboutMe — компонент с информацией о студенте.\nPortfolio — компонент со ссылками на другие проекты.\n*/\n\nfunction Main({ loggedIn }) {\n  const ref = React.createRef();\n\n  const scrollTo = () => {\n    ref.current.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  return (\n    <>\n      <Header loggedIn={loggedIn} />\n      <main className=\"main\">\n        <Promo />\n        <NavTab>\n          <button onClick={() => scrollTo()} type=\"button\" className=\"nav-tab__link\">Узнать больше</button>\n        </NavTab>\n        <AboutProject ref={ref} />\n        <Techs />\n        <AboutMe />\n        <Portfolio />\n      </main>\n      <Footer />\n    </>\n  );\n}\n\nMain.propTypes = {\n  loggedIn: PropTypes.bool.isRequired,\n};\n\nexport default Main;\n","import { useCallback, useState } from 'react';\n\nexport function useForm() {\n  const [values, setValues] = useState({});\n\n  const handleChange = (evt) => {\n    const input = evt.target;\n    const { value } = input;\n    const { name } = input;\n    setValues({ ...values, [name]: value });\n  };\n\n  return { values, handleChange, setValues };\n}\n\nexport function useFormWithValidation() {\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isValid, setIsValid] = useState(false);\n\n  const handleChange = (evt) => {\n    const input = evt.target;\n    const { value } = input;\n    const { name } = input;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: input.validationMessage });\n    setIsValid(input.closest('form').checkValidity());\n  };\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid],\n  );\n\n  return {\n    values, handleChange, resetForm, errors, isValid,\n  };\n}\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport './SearchForm.css';\nimport { useFormWithValidation } from '../../hooks/useForm';\n\nfunction SearchForm({ findMovies, isLoading }) {\n  const {\n    values,\n    handleChange,\n    resetForm,\n  } = useFormWithValidation();\n\n  const [error, setError] = useState('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (!values.movie) {\n      setError('Нужно ввести ключевое слово');\n    } else {\n      findMovies(values.movie);\n      setError('');\n      resetForm();\n    }\n  }\n\n  return (\n    <form\n      className=\"search-form\"\n      title=\"Поиск фильма\"\n      name=\"search-film\"\n      onSubmit={handleSubmit}\n    >\n      <div className=\"search-form__container\">\n        <input\n          className=\"search-form__input\"\n          onChange={handleChange}\n          id=\"movie\"\n          name=\"movie\"\n          type=\"text\"\n          value={values.movie || ''}\n          maxLength=\"100\"\n          placeholder=\"Фильм\"\n          disabled={isLoading}\n        />\n\n        <span className=\"search-form__input-error\" id=\"movie-error\">{error}</span>\n\n        <button\n          type=\"submit\"\n          className={`search-form__button ${\n            isLoading && 'search-form__button_disabled'\n          }`}\n        >\n          {isLoading ? 'Поиск...' : 'Найти'}\n        </button>\n      </div>\n    </form>\n  );\n}\n\nSearchForm.propTypes = {\n  findMovies: PropTypes.func.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n};\n\nexport default SearchForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './FilterCheckbox.css';\n\nfunction FilterCheckbox({ filtered, handleCheck }) {\n  function toggleCheckbox() {\n    handleCheck(!filtered);\n  }\n\n  return (\n    <div className=\"filter-checkbox\">\n      <label className=\"filter-checkbox__switch\">\n        <input type=\"checkbox\" onClick={toggleCheckbox} className=\"filter-checkbox__input\" />\n        <span className=\"filter-checkbox__slider\" />\n      </label>\n      <h3 className=\"filter-checkbox__title\">Короткометражки</h3>\n    </div>\n  );\n}\n\nFilterCheckbox.propTypes = {\n  handleCheck: PropTypes.func.isRequired,\n  filtered: PropTypes.bool.isRequired,\n};\n\nexport default FilterCheckbox;\n","import React from 'react';\nimport './Preloader.css';\n\nconst Preloader = () => (\n  <div className=\"preloader\">\n    <div className=\"preloader__container\">\n      <span className=\"preloader__round\" />\n    </div>\n  </div>\n);\n\nexport default Preloader;\n","function throttle(func, delay) {\n  let timeout = null;\n  // eslint-disable-next-line func-names\n  return function (...args) {\n    if (!timeout) {\n      timeout = setTimeout(() => {\n        func.call(this, ...args);\n        timeout = null;\n      }, delay);\n    }\n  };\n}\n\nexport default throttle;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport './MoviesCardList.css';\nimport Preloader from '../Preloader/Preloader';\nimport throttle from '../../utils/throttle';\n\n// Если карточек больше трёх, под ними появляется кнопка «Ещё».\n// По нажатию отрисовываются ещё три, а кнопка сдвигается ниже,\n// чтобы оказаться под блоком с карточками.\n// Ширина 1280px — 12 карточек по 3 в ряд. Кнопка «Ещё» загружает по 3 карточки.\n// Ширина 768px — 8 карточек по 2 в ряд. Кнопка «Ещё» загружает по 2 карточки.\n// Ширина от 320px до 480px — 5 карточек по 1 в ряд. Кнопка «Ещё» загружает по 2 карточки.\n\nfunction MoviesCardList({\n  isLoading, moviesCards, messages, children,\n}) {\n  const [cardsCount, setCardsCount] = useState(0);\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\n\n  useEffect(() => {\n    const callback = throttle(() => {\n      setWindowWidth(window.innerWidth);\n    }, 1000);\n\n    window.addEventListener('resize', callback);\n    return () => {\n      window.removeEventListener('resize', callback);\n    };\n  }, []);\n\n  const handleClick = () => {\n    if (windowWidth > 1020) {\n      setCardsCount(cardsCount + 3);\n    } else {\n      setCardsCount(cardsCount + 2);\n    }\n  };\n\n  const renderCards = () => {\n    if (windowWidth > 768) {\n      setCardsCount(12);\n    } else if (windowWidth > 480 && windowWidth <= 768) {\n      setCardsCount(8);\n    } else {\n      setCardsCount(5);\n    }\n  };\n\n  useEffect(() => renderCards(), [windowWidth]);\n\n  return (\n    <section className=\"movies-cardlist\">\n      { isLoading ? <Preloader />\n        : (\n          <>\n            { messages.searchForm ? (\n              <span className=\"movies-cardlist__message\">{messages.searchForm}</span>) : (\n                <>\n                  <ul className=\"movies-cardlist__list\">\n                    {children.slice(0, cardsCount)}\n                  </ul>\n                  { moviesCards.length > 3 && moviesCards.length > cardsCount && (\n                  <button\n                    className=\"movies-cardlist__button\"\n                    type=\"button\"\n                    onClick={handleClick}\n                  >\n                    Ещё\n                  </button>\n                  )}\n                </>\n            )}\n          </>\n        )}\n    </section>\n  );\n}\n\nMoviesCardList.propTypes = {\n  isLoading: PropTypes.bool.isRequired,\n  moviesCards: PropTypes.arrayOf(PropTypes.object).isRequired,\n  messages: PropTypes.shape({\n    regForm: PropTypes.string,\n    authForm: PropTypes.string,\n    profileForm: PropTypes.string,\n    searchForm: PropTypes.string,\n    auth: PropTypes.string,\n  }).isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  children: PropTypes.array,\n};\n\nMoviesCardList.defaultProps = {\n  children: undefined,\n};\n\nexport default MoviesCardList;\n","const reqOptions = {\n  baseUrl: 'https://api.movies.explorer.nomoredomains.rocks',\n  url: 'https://api.nomoreparties.co',\n  beatfilmUrl: 'https://api.nomoreparties.co/beatfilm-movies',\n  // baseUrl: 'http://localhost:3000',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n};\n\nexport default reqOptions;\n","import React from 'react';\nimport { useRouteMatch } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport './MoviesCard.css';\nimport reqOptions from '../../utils/constants';\n\nfunction MoviesCard(props) {\n  const {\n    id,\n    country,\n    director,\n    duration,\n    year,\n    description,\n    image,\n    trailerLink,\n    trailer,\n    nameRU,\n    nameEN,\n    onCardLike,\n    onCardDelete,\n    isLiked,\n  } = props;\n\n  const isSavedMovies = useRouteMatch({ path: '/saved-movies', exact: true });\n  const isMovies = useRouteMatch({ path: '/movies', exact: true });\n  const { url } = reqOptions;\n\n  function handleLikeClick() {\n    onCardLike({\n      id,\n      country,\n      director,\n      duration,\n      year,\n      description,\n      image,\n      trailerLink,\n      nameRU,\n      nameEN,\n    });\n  }\n\n  const handleCardDelete = () => {\n    onCardDelete(props);\n  };\n\n  function addMinutes(n) {\n    let minutes;\n    if (n % 10 >= 2 && n % 10 <= 4) {\n      minutes = 'минуты';\n    } else if (n % 10 === 1) {\n      minutes = 'минута';\n    } else {\n      minutes = 'минут';\n    }\n    return minutes;\n  }\n\n  return (\n    <li className=\"movies-card\">\n      <div className=\"movies-card__container\">\n        <h3 className=\"movies-card__title\">{nameRU}</h3>\n        <span className=\"movies-card__duration\">\n          {`${duration} ${addMinutes(duration)}`}\n        </span>\n      </div>\n      {isMovies ? (\n        <a href={trailerLink} target=\"_blank\" rel=\"noreferrer\" className=\"header__link\">\n          <img\n            src={`${url}${image.url}`}\n            alt={`Обложка фильма \"${nameRU}\"`}\n            className=\"movies-card__image\"\n          />\n        </a>\n      ) : (\n        <a href={trailer} target=\"_blank\" rel=\"noreferrer\" className=\"header__link\">\n          <img\n            src={`${url}${image}`}\n            alt={`Обложка фильма \"${nameRU}\"`}\n            className=\"movies-card__image\"\n          />\n        </a>\n      )}\n      {isMovies && isLiked && (\n        <button\n          className=\"movies-card__button movies-card__button_type_saved\"\n          type=\"button\"\n          aria-label=\"Save\"\n          onClick={onCardDelete}\n        />\n      )}\n      {isMovies && !isLiked && (\n        <button\n          className=\"movies-card__button\"\n          type=\"button\"\n          onClick={handleLikeClick}\n        >\n          Сохранить\n        </button>\n      )}\n      {isSavedMovies && (\n        <button\n          className=\"movies-card__button movies-card__button_type_delete\"\n          type=\"button\"\n          aria-label=\"Delete\"\n          onClick={handleCardDelete}\n        />\n      )}\n    </li>\n  );\n}\n\nMoviesCard.propTypes = {\n  id: PropTypes.number,\n  country: PropTypes.string,\n  director: PropTypes.string.isRequired,\n  year: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired,\n  nameRU: PropTypes.string.isRequired,\n  nameEN: PropTypes.string,\n  // eslint-disable-next-line react/forbid-prop-types\n  image: PropTypes.any.isRequired,\n  trailerLink: PropTypes.string,\n  trailer: PropTypes.string,\n  duration: PropTypes.number.isRequired,\n  onCardLike: PropTypes.func,\n  onCardDelete: PropTypes.func.isRequired,\n  isLiked: PropTypes.bool,\n};\n\nMoviesCard.defaultProps = {\n  id: undefined,\n  onCardLike: undefined,\n  isLiked: undefined,\n  trailer: undefined,\n  trailerLink: undefined,\n  country: undefined,\n  nameEN: undefined,\n};\n\nexport default MoviesCard;\n","import React, { useState } from 'react';\nimport './Movies.css';\nimport PropTypes from 'prop-types';\nimport Header from '../Header/Header';\nimport SearchForm from '../SearchForm/SearchForm';\nimport FilterCheckbox from '../FilterCheckbox/FilterCheckbox';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\nimport Footer from '../Footer/Footer';\nimport MoviesCard from '../MoviesCard/MoviesCard';\n\nfunction Movies({\n  loggedIn, isLoading, findMovies, movies, messages, onCardLike, onCardDelete, likedMovies,\n}) {\n  const [filtered, setFiltered] = useState(false);\n  const SHORT_MOVIE_DURATION = 40;\n\n  const data = !filtered ? movies : movies.filter(\n    (movie) => movie.duration <= SHORT_MOVIE_DURATION,\n  );\n\n  return (\n    <div className=\"movies\">\n      <Header loggedIn={loggedIn} />\n      <SearchForm findMovies={findMovies} isLoading={isLoading} />\n      <FilterCheckbox\n        filtered={filtered}\n        handleCheck={(value) => setFiltered(value)}\n      />\n      <MoviesCardList\n        isLoading={isLoading}\n        moviesCards={data}\n        messages={messages}\n        onCardLike={onCardLike}\n      >\n        {\n          data.map((card) => (\n            <MoviesCard\n              key={card.id}\n              // eslint-disable-next-line react/jsx-props-no-spreading\n              {...card}\n              // onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onCardDelete={() => onCardDelete(card)}\n              isLiked={likedMovies.includes(card.id)}\n            />\n          ))\n        }\n      </MoviesCardList>\n      <Footer />\n    </div>\n  );\n}\n\nMovies.propTypes = {\n  isLoading: PropTypes.bool.isRequired,\n  loggedIn: PropTypes.bool.isRequired,\n  findMovies: PropTypes.func.isRequired,\n  movies: PropTypes.arrayOf(PropTypes.object).isRequired,\n  messages: PropTypes.shape({\n    regForm: PropTypes.string,\n    authForm: PropTypes.string,\n    profileForm: PropTypes.string,\n    searchForm: PropTypes.string,\n    auth: PropTypes.string,\n  }).isRequired,\n  onCardLike: PropTypes.func.isRequired,\n  onCardDelete: PropTypes.func.isRequired,\n  likedMovies: PropTypes.arrayOf(PropTypes.number).isRequired,\n};\n\nexport default Movies;\n","import React, { useState } from 'react';\nimport './SavedMovies.css';\nimport PropTypes from 'prop-types';\nimport Header from '../Header/Header';\nimport SearchForm from '../SearchForm/SearchForm';\nimport FilterCheckbox from '../FilterCheckbox/FilterCheckbox';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\nimport Footer from '../Footer/Footer';\nimport MoviesCard from '../MoviesCard/MoviesCard';\n\nfunction SavedMovies({\n  isLoading, loggedIn, findMovies, movies, messages, onCardDelete,\n}) {\n  const [filtered, setFiltered] = useState(false);\n  const SHORT_MOVIE_DURATION = 40;\n\n  const data = !filtered ? movies : movies.filter(\n    (movie) => movie.duration <= SHORT_MOVIE_DURATION,\n  );\n\n  return (\n    <div className=\"saved-movies\">\n      <Header loggedIn={loggedIn} />\n      <SearchForm\n        findMovies={findMovies}\n        isLoading={isLoading}\n      />\n      <FilterCheckbox\n        filtered={filtered}\n        handleCheck={(value) => setFiltered(value)}\n      />\n      <MoviesCardList\n        isLoading={isLoading}\n        moviesCards={data}\n        messages={messages}\n      >\n        {\n          (data.map((card) => (\n            <MoviesCard\n              key={card.movieId}\n              // eslint-disable-next-line react/jsx-props-no-spreading\n              {...card}\n              // onCardClick={onCardClick}\n              onCardDelete={onCardDelete}\n            />\n          )).reverse())\n        }\n      </MoviesCardList>\n      <Footer />\n    </div>\n  );\n}\n\nSavedMovies.propTypes = {\n  isLoading: PropTypes.bool.isRequired,\n  loggedIn: PropTypes.bool.isRequired,\n  findMovies: PropTypes.func.isRequired,\n  movies: PropTypes.arrayOf(PropTypes.object).isRequired,\n  messages: PropTypes.shape({\n    regForm: PropTypes.string,\n    authForm: PropTypes.string,\n    profileForm: PropTypes.string,\n    searchForm: PropTypes.string,\n    auth: PropTypes.string,\n  }).isRequired,\n  onCardDelete: PropTypes.func.isRequired,\n};\n\nexport default SavedMovies;\n","import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport './Register.css';\nimport logo from '../../images/header-logo.svg';\nimport { useFormWithValidation } from '../../hooks/useForm';\n\nfunction Register({ handleRegister, isSending, messages }) {\n  const {\n    values,\n    handleChange,\n    resetForm,\n    errors,\n    isValid,\n  } = useFormWithValidation();\n\n  useEffect(() => {\n    resetForm({});\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const { name, password, email } = values;\n    handleRegister({ name, password, email });\n  };\n\n  return (\n    <div className=\"register\">\n      <Link to=\".\" className=\"register__link\">\n        <img src={logo} alt=\"Логотип\" className=\"register__logo\" />\n      </Link>\n      <h2 className=\"register__title\">Добро пожаловать!</h2>\n      <form\n        className=\"register__form\"\n        onSubmit={handleSubmit}\n      >\n        <span className=\"register__input-title\">Имя</span>\n        <input\n          className=\"register__input\"\n          onChange={handleChange}\n          id=\"name\"\n          name=\"name\"\n          type=\"text\"\n          pattern=\"^[А-Яа-яЁёA-Za-z]+-? ?[А-Яа-яЁёA-Za-z]+$\"\n          value={values.name || ''}\n          minLength=\"2\"\n          maxLength=\"20\"\n          required\n          disabled={isSending}\n        />\n        <span className=\"register__input-error\" id=\"name-error\">{errors.name}</span>\n\n        <span className=\"register__input-title\">E-mail</span>\n        <input\n          className=\"register__input\"\n          onChange={handleChange}\n          id=\"email\"\n          name=\"email\"\n          type=\"email\"\n          value={values.email || ''}\n          required\n          disabled={isSending}\n        />\n        <span className=\"register__input-error\" id=\"email-error\">{errors.email}</span>\n\n        <span className=\"register__input-title\">Пароль</span>\n        <input\n          className=\"register__input\"\n          onChange={handleChange}\n          id=\"password\"\n          name=\"password\"\n          type=\"password\"\n          value={values.password || ''}\n          autoComplete=\"on\"\n          required\n          disabled={isSending}\n        />\n        <span className=\"register__input-error\" id=\"password-error\">{errors.password}</span>\n\n        <span className=\"register__input-error\" id=\"messages\">{messages.regForm}</span>\n\n        <button\n          type=\"submit\"\n          className={`register__button\n            ${!isValid && 'register__button_disabled'}\n            ${isSending && 'register__button_disabled'}`}\n        >\n          {isSending ? 'Регистрация...' : 'Зарегистрироваться'}\n        </button>\n        <div className=\"register__signin\">\n          <p className=\"register__link-title\">Уже зарегистрированы?</p>\n          <Link to=\"signin\" className=\"register__login-link\">\n            Войти\n          </Link>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nRegister.propTypes = {\n  handleRegister: PropTypes.func.isRequired,\n  isSending: PropTypes.bool.isRequired,\n  messages: PropTypes.shape({\n    regForm: PropTypes.string,\n    authForm: PropTypes.string,\n    profileForm: PropTypes.string,\n    searchForm: PropTypes.string,\n  }).isRequired,\n};\n\nexport default Register;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport './Login.css';\nimport { Link } from 'react-router-dom';\nimport logo from '../../images/header-logo.svg';\nimport { useFormWithValidation } from '../../hooks/useForm';\n\nfunction Login({ handleLogin, isSending, messages }) {\n  const {\n    values,\n    handleChange,\n    resetForm,\n    errors,\n    isValid,\n  } = useFormWithValidation();\n\n  useEffect(() => {\n    resetForm({});\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!values.email || !values.password) {\n      return;\n    }\n    const { password, email } = values;\n    handleLogin({ password, email });\n  };\n\n  return (\n    <div className=\"login\">\n      <Link to=\".\" className=\"login__link\">\n        <img src={logo} alt=\"Логотип\" className=\"login__logo\" />\n      </Link>\n      <h2 className=\"login__title\">Рады видеть!</h2>\n      <form\n        className=\"login__form\"\n        onSubmit={handleSubmit}\n      >\n        <span className=\"login__input-title\">E-mail</span>\n        <input\n          className=\"login__input\"\n          onChange={handleChange}\n          id=\"email\"\n          name=\"email\"\n          type=\"email\"\n          value={values.email || ''}\n          required\n          disabled={isSending}\n        />\n        <span className=\"login__input-error\" id=\"email-error\">{errors.email}</span>\n\n        <span className=\"login__input-title\">Пароль</span>\n        <input\n          className=\"login__input\"\n          id=\"password\"\n          name=\"password\"\n          type=\"password\"\n          onChange={handleChange}\n          value={values.password || ''}\n          autoComplete=\"on\"\n          required\n          disabled={isSending}\n        />\n        <span className=\"login__input-error\" id=\"password-error\">{errors.password}</span>\n\n        <span className=\"login__input-error\" id=\"messages\">{messages.authForm}</span>\n\n        <button\n          type=\"submit\"\n          className={`login__button\n          ${!isValid && 'login__button_disabled'}\n          ${isSending && 'login__button_disabled'}`}\n        >\n          {isSending ? 'Вход...' : 'Войти'}\n        </button>\n        <div className=\"login__signup\">\n          <p className=\"login__link-title\">Ещё не зарегистрированы?</p>\n          <Link to=\"signup\" className=\"login__register-link\">\n            Регистрация\n          </Link>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nLogin.propTypes = {\n  handleLogin: PropTypes.func.isRequired,\n  isSending: PropTypes.bool.isRequired,\n  messages: PropTypes.shape({\n    regForm: PropTypes.string,\n    authForm: PropTypes.string,\n    profileForm: PropTypes.string,\n    searchForm: PropTypes.string,\n    auth: PropTypes.string,\n  }).isRequired,\n};\n\nexport default Login;\n","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\nexport default CurrentUserContext;\n","import React, { useContext, useEffect } from 'react';\nimport './Profile.css';\nimport PropTypes from 'prop-types';\nimport Header from '../Header/Header';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport { useFormWithValidation } from '../../hooks/useForm';\n\nfunction Profile({\n  handleLogout,\n  loggedIn,\n  onUpdateUser,\n  isSending,\n  messages,\n}) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const {\n    values, handleChange, resetForm, errors, isValid,\n  } = useFormWithValidation();\n\n  useEffect(() => {\n    if (currentUser) {\n      resetForm(currentUser, {}, true);\n    }\n  }, [currentUser, resetForm]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({ email: values.email, name: values.name });\n  }\n\n  return (\n    <div className=\"profile\">\n      <Header loggedIn={loggedIn} />\n      <h2 className=\"profile__form-title\">{`Привет, ${currentUser.name}!`}</h2>\n      <form\n        className=\"profile__form\"\n        onSubmit={handleSubmit}\n      >\n        <div className=\"profile__input-container\">\n          <span className=\"profile__input-title\">Имя</span>\n          <input\n            className=\"profile__input\"\n            onChange={handleChange}\n            id=\"name\"\n            name=\"name\"\n            type=\"text\"\n            pattern=\"^[А-Яа-яЁёA-Za-z]+-? ?[А-Яа-яЁёA-Za-z]+$\"\n            value={values.name || currentUser.name}\n            minLength=\"2\"\n            maxLength=\"20\"\n            required\n          />\n        </div>\n        <span className=\"login__input-error\" id=\"email-error\">{errors.name}</span>\n        <div className=\"profile__input-container\">\n          <span className=\"profile__input-title\">E-mail</span>\n          <input\n            className=\"profile__input\"\n            onChange={handleChange}\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            value={values.email || currentUser.email}\n            required\n          />\n        </div>\n        <span className=\"login__input-error\" id=\"email-error\">{errors.email}</span>\n        {messages && <span className=\"login__input-error\" id=\"messages\">{messages.profileForm}</span>}\n        <button\n          type=\"submit\"\n          className={`profile__button\n          ${!isValid && 'login__button_disabled'}\n          ${values.email === currentUser.email && values.name === currentUser.name && 'login__button_disabled'}\n          ${isSending && 'login__button_disabled'}`}\n        >\n          Редактировать\n        </button>\n        <button type=\"button\" className=\"profile__button profile__button_type_exit\" onClick={handleLogout}>Выйти из аккаунта</button>\n      </form>\n    </div>\n  );\n}\n\nProfile.propTypes = {\n  handleLogout: PropTypes.func.isRequired,\n  loggedIn: PropTypes.bool.isRequired,\n  onUpdateUser: PropTypes.func.isRequired,\n  isSending: PropTypes.bool.isRequired,\n  messages: PropTypes.shape({\n    regForm: PropTypes.string,\n    authForm: PropTypes.string,\n    profileForm: PropTypes.string,\n    searchForm: PropTypes.string,\n    auth: PropTypes.string,\n  }).isRequired,\n};\n\nexport default Profile;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport './NotFound.css';\n\nfunction NotFound({ loggedIn }) {\n  const history = useHistory();\n\n  const handleClick = () => {\n    if (loggedIn && history.length > 2) {\n      history.go(-1);\n    } else {\n      history.push('/');\n    }\n  };\n\n  return (\n    <div className=\"not-found\">\n      <span className=\"not-found__error-code\">404</span>\n      <p className=\"not-found__error-text\">Страница не найдена</p>\n      <button type=\"button\" onClick={handleClick} className=\"not-found__link\">Назад</button>\n    </div>\n  );\n}\n\nNotFound.propTypes = {\n  loggedIn: PropTypes.bool.isRequired,\n};\n\nexport default NotFound;\n","import reqOptions from './constants';\n\nclass Api {\n  constructor(options) {\n    this._url = options.beatfilmUrl;\n    this._headers = options.headers;\n  }\n\n  _parseResponse = (res) => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error(`Ошибка: ${res.status}`));\n  }\n\n  getMovies() {\n    return fetch(this._url, {\n      headers: this._headers,\n    })\n      .then((res) => this._parseResponse(res));\n  }\n}\n\nconst MoviesApi = new Api(reqOptions);\n\nexport default MoviesApi;\n","import reqOptions from './constants';\n\nclass Api {\n  constructor(options) {\n    this._url = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _parseResponse = (res) => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error(res.status));\n  }\n\n  // # возвращает информацию о пользователе (email и имя)\n  // GET /users/me\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers,\n      credentials: 'include',\n    })\n      .then((res) => this._parseResponse(res));\n  }\n\n  getSavedMovies() {\n    return fetch(`${this._url}/movies`, {\n      headers: this._headers,\n      credentials: 'include',\n    })\n      .then((res) => this._parseResponse(res));\n  }\n\n  // # обновляет информацию о пользователе (email и имя)\n  // PATCH /users/me\n  setUserInfo(name, email) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: this._headers,\n      body: JSON.stringify(name, email),\n    })\n      .then((res) => this._parseResponse(res));\n  }\n\n  saveMovie({\n    id,\n    country,\n    director,\n    duration,\n    year,\n    description,\n    image,\n    trailerLink,\n    nameRU,\n    nameEN,\n  }) {\n    return fetch(`${this._url}/movies`, {\n      method: 'POST',\n      headers: this._headers,\n      credentials: 'include',\n      body: JSON.stringify({\n        country,\n        director,\n        duration,\n        year,\n        description,\n        image: image.url,\n        trailer: trailerLink,\n        thumbnail: image.formats.thumbnail.url,\n        nameRU,\n        nameEN,\n        movieId: id,\n      }),\n    })\n      .then((res) => this._parseResponse(res));\n  }\n\n  deleteMovie(id) {\n    return fetch(`${this._url}/movies/${id}`, {\n      headers: this._headers,\n      method: 'DELETE',\n      credentials: 'include',\n    })\n      .then((res) => this._parseResponse(res));\n  }\n}\n\nconst MainApi = new Api(reqOptions);\n\nexport default MainApi;\n","import reqOptions from './constants';\n\nclass Auth {\n  constructor(options) {\n    this._url = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _checkResponse = (response) => (response.ok\n    ? response.json()\n    : Promise.reject(new Error(response.status)));\n\n  register = (name, password, email) => fetch(`${this._url}/signup`, {\n    headers: this._headers,\n    method: 'POST',\n    credentials: 'include',\n    body: JSON.stringify({\n      name: `${name}`,\n      password: `${password}`,\n      email: `${email}`,\n    }),\n  }).then((response) => this._checkResponse(response))\n\n  authorize(password, email) {\n    return fetch(`${this._url}/signin`, {\n      headers: this._headers,\n      method: 'POST',\n      credentials: 'include',\n      body: JSON.stringify({\n        password: `${password}`,\n        email: `${email}`,\n      }),\n    }).then((response) => this._checkResponse(response));\n  }\n\n  logout = () => fetch(`${this._url}/logout`, {\n    headers: this._headers,\n    credentials: 'include',\n  }).then((response) => this._checkResponse(response))\n}\n\nconst auth = new Auth(reqOptions);\n\nexport default auth;\n","/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => (\n  <Route>\n    {() => (props.loggedIn ? <Component {...props} /> : <Redirect to=\"./signin\" />)}\n  </Route>\n);\n\nexport default ProtectedRoute;\n","/* eslint-disable no-console */\nimport './App.css';\nimport React, {\n  useState,\n  useEffect,\n} from 'react';\n\nimport {\n  Route, Switch, Redirect, useHistory, useLocation,\n} from 'react-router-dom';\nimport Main from '../Main/Main';\nimport Movies from '../Movies/Movies';\nimport SavedMovies from '../SavedMovies/SavedMovies';\nimport Register from '../Register/Register';\nimport Login from '../Login/Login';\nimport Profile from '../Profile/Profile';\nimport NotFound from '../NotFound/NotFound';\nimport MoviesApi from '../../utils/MoviesApi';\nimport MainApi from '../../utils/MainApi';\nimport auth from '../../utils/auth';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState({\n    name: '',\n    email: '',\n  });\n  const [isLoading, setIsLoading] = useState(false);\n  const [messages, setMessages] = useState({\n    regForm: null,\n    authForm: null,\n    profileForm: null,\n    searchForm: null,\n    auth: null,\n  });\n  const [movies, setMovies] = useState([]);\n  const [isFormSending, setIsFormSending] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [savedMovies, setSavedMovies] = useState([]);\n\n  const history = useHistory();\n  const location = useLocation();\n\n  const handleError = (error) => {\n    console.error(error);\n  };\n\n  const resetMessages = () => {\n    setMessages({\n      regForm: null,\n      authForm: null,\n      profileForm: null,\n      searchForm: null,\n      auth: null,\n    });\n  };\n\n  useEffect(() => {\n    const localMovies = JSON.parse(localStorage.getItem('movies'));\n    if (localMovies !== null) {\n      setMovies(localMovies);\n    }\n  }, [loggedIn]);\n\n  useEffect(() => {\n    MainApi\n      .getSavedMovies()\n      .then((usersMovies) => {\n        setSavedMovies(usersMovies);\n        localStorage.setItem('savedMovies', JSON.stringify(usersMovies));\n      })\n      .catch((err) => {\n        console.log(err.message);\n      });\n  }, [loggedIn]);\n\n  useEffect(() => {\n    MainApi\n      .getUserInfo()\n      .then((user) => {\n        setCurrentUser(user);\n        setLoggedIn(true);\n        history.push(location.pathname);\n      })\n      .catch((err) => {\n        console.log(err.message);\n        setLoggedIn(false);\n        setMessages({\n          regForm: null,\n          authForm: null,\n          profileForm: null,\n          searchForm: null,\n          auth: 'При авторизации произошла ошибка. Токен не передан или передан не в том формате',\n        });\n        setCurrentUser({\n          name: '',\n          email: '',\n        });\n        localStorage.removeItem('movies');\n        localStorage.removeItem('savedMovies');\n      });\n  }, []);\n\n  useEffect(() => {\n    resetMessages();\n  }, []);\n\n  // функция поиска по фильмам\n  const findMovies = (name) => {\n    setIsLoading(true);\n    MoviesApi\n      .getMovies()\n      .then((data) => {\n        const foundMovies = data.filter((c) => c.nameRU.toLowerCase().includes(name.toLowerCase()));\n        if (foundMovies.length === 0) {\n          setMessages({\n            regForm: null,\n            authForm: null,\n            profileForm: null,\n            searchForm: 'Ничего не найдено',\n            auth: null,\n          });\n        } else {\n          setMovies(foundMovies);\n          localStorage.setItem('movies', JSON.stringify(foundMovies));\n          resetMessages();\n        }\n      })\n      .catch(() => {\n        setMessages({\n          regForm: null,\n          authForm: null,\n          profileForm: null,\n          searchForm: 'Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз',\n          auth: null,\n        });\n      })\n      .finally(() => setIsLoading(false));\n  };\n\n  // функция поиска по сохраненным в localStorage фильмам\n  const findSavedMovies = (name) => {\n    const localSavedMovies = JSON.parse(localStorage.getItem('savedMovies'));\n    const foundSavedMovies = localSavedMovies.filter(\n      (c) => c.nameRU.toLowerCase().includes(name.toLowerCase()),\n    );\n    if (foundSavedMovies.length === 0) {\n      setMessages({\n        regForm: null,\n        authForm: null,\n        profileForm: null,\n        searchForm: 'Ничего не найдено',\n        auth: null,\n      });\n    } else {\n      setSavedMovies(foundSavedMovies);\n      resetMessages();\n    }\n  };\n\n  // функция сохранения фильма(лайка)\n  const handleLike = (movie) => {\n    // eslint-disable-next-line prefer-destructuring\n    const id = movie.id;\n    const country = movie.country || 'Неизвестно';\n    const director = movie.director || 'Неизвестно';\n    const duration = movie.duration || 'Неизвестно';\n    const year = movie.year || 'Неизвестно';\n    const description = movie.description || 'Неизвестно';\n    const image = movie.image || '/uploads/_.jpeg';\n    const trailerLink = movie.trailerLink || 'https://www.youtube.com/=';\n    const nameRU = movie.nameRU || 'Неизвестно';\n    const nameEN = movie.nameEN || 'Неизвестно';\n\n    MainApi\n      .saveMovie({\n        id,\n        country,\n        director,\n        duration,\n        year,\n        description,\n        image,\n        trailerLink,\n        nameRU,\n        nameEN,\n      })\n      .then((savedMovie) => {\n        setSavedMovies([...savedMovies, savedMovie]);\n        localStorage.setItem('savedMovies', JSON.stringify([savedMovie, ...savedMovies]));\n      })\n      .catch((err) => {\n        console.log('Ошибка при сохранении фильма', err.message);\n      });\n  };\n\n  // функция удаления фильма\n  const handleDelete = (movie) => {\n    const movieId = movie.id || movie.movieId;\n    const userMovie = savedMovies.find((i) => i.movieId === movieId);\n    MainApi\n      .deleteMovie(userMovie._id)\n      .then(() => {\n        setSavedMovies((state) => state.filter((c) => c._id !== userMovie._id));\n        const localSavedMovies = JSON.parse(localStorage.getItem('savedMovies'));\n        const newSavedMovies = localSavedMovies.filter(\n          (c) => c._id !== userMovie._id,\n        );\n        localStorage.setItem('savedMovies', JSON.stringify(newSavedMovies));\n      })\n      .catch((err) => {\n        console.log('Ошибка при удалении фильма', err.message);\n      });\n  };\n\n  const handleLogin = ({ password, email }) => {\n    setIsFormSending(true);\n    auth\n      .authorize(password, email)\n      .then((user) => {\n        setCurrentUser(user);\n        setLoggedIn(true);\n        console.log('Успешный вход в аккаунт');\n      })\n      .then(() => history.push('/movies'))\n      .catch((err) => {\n        if (err) {\n          setMessages({\n            regForm: null,\n            authForm: 'Вы ввели неправильный логин или пароль',\n            profileForm: null,\n            searchForm: null,\n            auth: null,\n          });\n        }\n      })\n      .finally(() => setIsFormSending(false));\n  };\n\n  const handleRegister = ({ name, password, email }) => {\n    setIsFormSending(true);\n    auth\n      .register(name, password, email)\n      .then(() => {\n        auth\n          .authorize(password, email)\n          .then((userData) => {\n            setCurrentUser(userData);\n            setLoggedIn(true);\n            console.log('Регистрация прошла успешно');\n          });\n      })\n      .catch((err) => {\n        if (err.message === '409') {\n          setMessages({\n            regForm: 'Пользователь с таким email уже существует',\n            authForm: null,\n            profileForm: null,\n            searchForm: null,\n            auth: null,\n          });\n        } else {\n          setMessages({\n            regForm: 'При регистрации пользователя произошла ошибка',\n            authForm: null,\n            profileForm: null,\n            searchForm: null,\n            auth: null,\n          });\n        }\n      })\n      .finally(() => setIsFormSending(false));\n  };\n\n  const handleLogout = () => {\n    auth\n      .logout()\n      .then(() => {\n        history.push('/signin');\n        setLoggedIn(false);\n        setCurrentUser({\n          name: '',\n          email: '',\n        });\n        localStorage.removeItem('movies');\n        localStorage.removeItem('savedMovies');\n        setMovies([]);\n      })\n      .catch((err) => {\n        handleError(err);\n      });\n  };\n\n  const handleUpdateUser = (name, email) => {\n    setIsFormSending(true);\n    MainApi\n      .setUserInfo(name, email)\n      .then((user) => {\n        setCurrentUser(user);\n        console.log(user);\n        setMessages({\n          regForm: null,\n          authForm: null,\n          profileForm: 'Данные пользователья обновлены успешно',\n          searchForm: null,\n          auth: null,\n        });\n      })\n      .catch((err) => {\n        if (err.message === '409') {\n          setMessages({\n            regForm: null,\n            authForm: null,\n            profileForm: 'Пользователь с таким email уже существует',\n            searchForm: null,\n            auth: null,\n          });\n        } else {\n          setMessages({\n            regForm: null,\n            authForm: null,\n            profileForm: 'При обновлении профиля произошла ошибка',\n            searchForm: null,\n            auth: null,\n          });\n        }\n      })\n      .finally(() => setIsFormSending(false));\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <Switch>\n          <ProtectedRoute\n            exact\n            path=\"/movies\"\n            loggedIn={loggedIn}\n            component={Movies}\n            isLoading={isLoading}\n            findMovies={findMovies}\n            movies={movies}\n            messages={messages}\n            onCardLike={handleLike}\n            onCardDelete={handleDelete}\n            likedMovies={savedMovies.map((movie) => movie.movieId)}\n          />\n          <ProtectedRoute\n            exact\n            path=\"/saved-movies\"\n            loggedIn={loggedIn}\n            component={SavedMovies}\n            isLoading={isLoading}\n            findMovies={findSavedMovies}\n            movies={savedMovies}\n            messages={messages}\n            onCardDelete={handleDelete}\n          />\n          <Route exact path=\"/signup\">\n            {loggedIn && <Redirect to=\"/\" />}\n            <Register\n              handleRegister={handleRegister}\n              isSending={isFormSending}\n              messages={messages}\n            />\n          </Route>\n          <Route exact path=\"/signin\">\n            {loggedIn && <Redirect to=\"/\" />}\n            <Login\n              handleLogin={handleLogin}\n              isSending={isFormSending}\n              messages={messages}\n            />\n          </Route>\n          <ProtectedRoute\n            exact\n            path=\"/profile\"\n            loggedIn={loggedIn}\n            component={Profile}\n            handleLogout={handleLogout}\n            onUpdateUser={handleUpdateUser}\n            isSending={isFormSending}\n            messages={messages}\n          />\n          <Route exact path=\"/\">\n            <Main loggedIn={loggedIn} />\n          </Route>\n          <Route path=\"/*\">\n            <NotFound loggedIn={loggedIn} />\n          </Route>\n        </Switch>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}